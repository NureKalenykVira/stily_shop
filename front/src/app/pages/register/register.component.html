<div class="register-page">
  <button (click)="goHome()" class="back-link">← На головну</button>
  <h1 class="page-title">Створити обліковий запис</h1>

  <form #registerForm="ngForm" class="contact-form" (ngSubmit)="onRegister(registerForm)">
    <label>
      Ім’я *
      <input
        type="text"
        name="firstName"
        [(ngModel)]="registerData.firstName"
        required
        #firstName="ngModel"
      />
      <small class="error" *ngIf="firstName.invalid && (firstName.touched || registerForm.submitted)">
        Введіть ім’я.
      </small>
    </label>

    <label>
      Прізвище *
      <input
        type="text"
        name="lastName"
        [(ngModel)]="registerData.lastName"
        required
        #lastName="ngModel"
      />
      <small class="error" *ngIf="lastName.invalid && (lastName.touched || registerForm.submitted)">
        Введіть прізвище.
      </small>
    </label>

    <label>
      Електронна пошта *
      <input
        type="email"
        name="email"
        [(ngModel)]="registerData.email"
        required
        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
        #email="ngModel"
      />
      <small class="error" *ngIf="email.errors?.['required'] && (email.touched || registerForm.submitted)">
        Введіть електронну адресу.
      </small>
      <small class="error" *ngIf="email.errors?.['pattern'] && (email.touched || registerForm.submitted)">
        Невірний формат пошти.
      </small>
    </label>

    <label class="password-label">
      Пароль *
      <small style="font-size: 13px; color: #555; font-weight: 400; margin-top: -6px;">
        ⓘ Пароль має містити: малі літери [a-z], великі літери [A-Z], цифри [0-9] та щонайменше 8 символів
      </small>

      <div class="password-wrapper">
        <input
          [type]="showPassword ? 'text' : 'password'"
          name="password"
          [(ngModel)]="registerData.password"
          required
          minlength="8"
          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$"
          #password="ngModel"
        />

        <button type="button" class="toggle-password" (click)="togglePasswordVisibility()" aria-label="Toggle password visibility">
          <img [src]="showPassword ? 'assets/icons/hide.svg' : 'assets/icons/show.svg'" alt="Toggle password visibility" />
        </button>
      </div>

      <small class="error" *ngIf="password.errors?.['required'] && (password.touched || registerForm.submitted)">
        Введіть пароль.
      </small>
      <small class="error" *ngIf="password.errors?.['pattern'] && (password.touched || registerForm.submitted)">
        Пароль не відповідає вимогам.
      </small>
    </label>

    <label class="consent-checkbox">
      <input
        type="checkbox"
        [(ngModel)]="registerData.selectAll"
        name="selectAll"
        (change)="toggleAll()"
      />
      <span class="custom-checkbox"></span>
      Вибрати всі
    </label>

    <label class="consent-checkbox check">
      <input
        type="checkbox"
        name="acceptTerms"
        [(ngModel)]="registerData.acceptTerms"
        required
        #acceptTerms="ngModel"
      />
      <span class="custom-checkbox"></span>
      <span class="consent-text">
        Підтверджую, що приймаю
        <a href="#">Правила магазину</a> та ознайомився/ознайомилась з
        <a href="#">Політикою конфіденційності</a>.*
      </span>
    </label>
    <small class="error" *ngIf="acceptTerms.errors?.['required'] && registerForm.submitted">
      Потрібна згода на обробку даних.
    </small>

    <label class="consent-checkbox check">
      <input
        type="checkbox"
        name="acceptMarketing"
        [(ngModel)]="registerData.acceptMarketing"
      />
      <span class="custom-checkbox"></span>
      Хочу отримувати на вказану адресу електронної пошти комерційну інформацію від ***Marketing Investment Group S.A.
      офіс у Кракові, Польща.***
    </label>

    <p style="font-size: 13px; color: #555;">
      * Обов’язкові поля
    </p>

    <p style="font-size: 13px; color: #555;">
      ...Адміністратором наданих персональних даних є Marketing Investment Group S.A. в Кракові (31-871), мкрн. Dywizjonu
      303 Paw. 1. Компанія зареєстрована в Реєстрі підприємців Національного судового реєстру, який ведеться Районним
      судом Кракова — Центральне відділення, XI Господарський відділ, під номером KRS: 0000521685. Статутний капітал
      компанії складає 10 000 000 PLN, який повністю сплачений. NIP: 675-11-87-580, REGON: 351469736, BDO:
      000027840...
    </p>

    <div class="form-actions">
      <button type="submit" class="submit-button">Створити обліковий запис</button>
    </div>
  </form>
</div>
