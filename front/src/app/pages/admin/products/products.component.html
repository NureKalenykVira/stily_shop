<div class="header">
  <h2>–¢–æ–≤–∞—Ä–∏</h2>
  <div class="tools">
    <input class="search" placeholder="üîçÔ∏é –ü–æ—à—É–∫" (input)="onSearchInput($event)" />
    <select class="select" (change)="onStatusChange($event)">
      <option value="all">–£—Å—ñ —Å—Ç–∞—Ç—É—Å–∏</option>
      <option value="active">active</option>
      <option value="draft">draft</option>
    </select>
    <button class="btn" (click)="add()">+ –î–æ–¥–∞—Ç–∏</button>
  </div>
</div>

<div class="card table">
  <table>
    <thead>
      <tr>
        <th class="image-col">–§–æ—Ç–æ</th>
        <th>–ù–∞–∑–≤–∞</th>
        <th>SKU</th>
        <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
        <th>–ö–æ–ª—å–æ—Ä–∏</th>
        <th>–†–æ–∑–º—ñ—Ä–∏</th>
        <th>–¶—ñ–Ω–∞</th>
        <th>–°–∫–ª–∞–¥</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th class="right">–î—ñ—ó</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of filtered()">
        <td class="image-col">
          <img class="thumb" [src]="p.images?.[0] || 'assets/placeholder.png'" alt="" />
          <span class="thumb-count" *ngIf="(p.images?.length || 0) > 1">+{{ (p.images?.length || 0) - 1 }}</span>
        </td>
        <td class="bold">{{ p.title }}</td>
        <td>{{ p.sku }}</td>
        <td>{{ p.category || '‚Äî' }}</td>

        <td class="colors">
          <span class="dot" *ngFor="let c of (p.colors || [])" [style.background]="c" [title]="c"></span>
          <span class="muted" *ngIf="!p.colors?.length">‚Äî</span>
        </td>

        <td class="sizes">
          <span class="chip" *ngFor="let s of (p.sizes || [])">{{ s }}</span>
          <span class="muted" *ngIf="!p.sizes?.length">‚Äî</span>
        </td>

        <td>{{ p.price | number:'1.0-2' }}</td>
        <td>{{ p.stock }}</td>
        <td><span class="status" [class.draft]="p.status==='draft'">{{ p.status }}</span></td>
        <td class="right">
          <button class="link" (click)="edit(p)">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
          <button class="link danger" (click)="confirmRemove(p)">–í–∏–¥–∞–ª–∏—Ç–∏</button>
        </td>
      </tr>
      <tr *ngIf="filtered().length === 0">
        <td colspan="10" class="empty">–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</td>
      </tr>
    </tbody>
  </table>
</div>
